(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0980ed1e"],{"2dbd":function(t,s,e){},"50a4":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("van-popup",{staticClass:"emailSub-view",model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[0==t.showIndex?i("div",{staticClass:"invites"},[i("div",{staticClass:"emailSub-nan"},[i("div",{staticClass:"nan-text"},[i("img",{attrs:{src:e("821c"),alt:""}}),i("div",[t._v(t._s(t.$t("popups.text12")))])]),i("img",{staticStyle:{cursor:"pointer"},attrs:{src:e("b38e")},on:{click:t.cloes}})]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.registerAddress,expression:"registerAddress"}],staticClass:"invite-puts",attrs:{type:"text",placeholder:t.$t("popups.text13")},domProps:{value:t.registerAddress},on:{input:function(s){s.target.composing||(t.registerAddress=s.target.value)}}}),i("van-button",{staticClass:"swap-btn",attrs:{round:"",type:"info",disabled:!t.registerAddress},on:{click:t.registerWay}},[t._v(t._s(t.$t("popups.text12")))])],1):t._e(),1==t.showIndex?i("div",{staticClass:"invites"},[i("div",{staticClass:"emailSub-nan"},[i("div",{staticClass:"nan-text"},[i("img",{attrs:{src:e("821c"),alt:""}}),i("div",[t._v("邀请好友")])]),i("img",{staticStyle:{cursor:"pointer"},attrs:{src:e("b38e")},on:{click:t.cloes}})]),i("div",{staticClass:"invite-title"},[t._v("我的邀请链接")]),i("div",{staticClass:"invite-url"},[t._v(t._s(t.mayInviteUrl))]),i("van-button",{staticClass:"swap-btn",attrs:{round:"",type:"info"},on:{click:t.onCopy}},[t._v("复制链接")]),i("div",{staticClass:"invite-list",on:{click:function(s){return t.showWay(0)}}},[t._v("邀请列表")])],1):t._e(),2==t.showIndex?i("div",{staticClass:"invites"},[i("div",{staticClass:"emailSub-nan"},[i("div",{staticClass:"nan-text"},[i("img",{attrs:{src:e("821c"),alt:""}}),i("div",[t._v("好友列表")])]),i("img",{staticStyle:{cursor:"pointer"},attrs:{src:e("b38e")},on:{click:t.cloes}})]),i("div",{staticClass:"invites-modele"},[i("div",{staticClass:"invites-tetle"},[i("van-col",{attrs:{span:"12"}},[t._v("好友地址")]),i("van-col",{attrs:{span:"12"}},[t._v("持有LP")])],1),0==t.fdList.length?i("div",{staticStyle:{"font-size":"14px",margin:"20px 0px"}},[t._v("暂无信息")]):t._e(),t._l(t.fdList,(function(s,e){return i("div",{key:e,staticClass:"invites-list",class:{"list-bgrd":e%2==0}},[i("van-col",{attrs:{span:"12"}},[t._v(t._s(s.owners.slice(0,6)+" ... "+s.owners.substring(s.owners.length-4,s.owners.length)))]),i("van-col",{staticStyle:{color:"#34C188"},attrs:{span:"12"}},[t._v(t._s(s.amounts))])],1)}))],2),i("div",{staticClass:"currentPage"},[i("img",{attrs:{src:e("bc2b"),alt:""},on:{click:function(s){return t.offsetWay(0)}}}),i("div",[t._v(" "+t._s(t.offset+1)+" / "+t._s(t.total)+" ")]),i("img",{attrs:{src:e("bf02"),alt:""},on:{click:function(s){return t.offsetWay(1)}}})])]):t._e()])],1)},v=[],n=(e("4160"),e("b680"),e("4d63"),e("ac1f"),e("25f0"),e("5319"),e("1276"),e("159b"),{name:"invite-friends",data:function(){return{show:!1,currentPage:1,registerAddress:"",showIndex:0,mayInviteUrl:"",fdList:[],offset:0,size:10,total:1}},methods:{offsetWay:function(t){if(0==t){if(0==this.offset)return void(this.offset=0);this.offset--}else{if(this.total-this.offset<=1)return;this.offset++}this.showWay(this.offset)},showWay:function(t){var s=this;this.$contracts.ApePledgeMine.methods.getChildHoldLpInfos(t,this.size).call({from:this.$address},(function(t,e){console.log(e);s.showIndex=2,e.owners.length>=1&&(s.total=s.totalCount(e.total,s.size),e.owners.forEach((function(t,i){s.fdList.push({amounts:e.amounts[i].fromWei().toFixed(2).toNum(),owners:t})})))}))},onCopy:function(){var t=this.h5Copy(this.mayInviteUrl);!1===t?this.$toast.fail("复制失败，请手动选择"):this.$toast.success("复制成功")},replaceQueryString:function(t,s,e){var i=new RegExp(s+"=[^&]*","gi");return t.replace(i,s+"="+e)},createUrl:function(){var t=window.location.href,s=t.split("?")[1];this.mayInviteUrl=s?this.replaceQueryString(t,"address",this.$address):t+"?address="+this.$address},registerWay:function(){var t=this;this.$web3.utils.isAddress(this.registerAddress)?this.$contracts.ApeRelation.methods.getRecommer(this.registerAddress).call({from:this.$address},(function(s,e){if(console.log(e),"0x0000000000000000000000000000000000000000"==e)t.$toast.fail(t.$t("popups.text21"));else{var i=t.$contracts.ApeRelation.methods.addRelationEx(t.registerAddress);i.send({from:t.$address}).on("transactionHash",(function(s){t.$loading()})).on("receipt",(function(s){t.$loading(),t.$nextTick((function(){t.$toast.success(t.$t("popups.text22")),t.show=!1,localStorage.setItem("isBinding",1)}))})).on("error",console.error)}})):this.$toast.fail(this.$t("popups.text21"))},cloes:function(){this.show=!1},h5Copy:function(t){if(!document.queryCommandSupported("copy"))return!1;var s=document.createElement("textarea");s.value=t,s.readOnly="readOnly",document.body.appendChild(s),s.select(),s.setSelectionRange(0,t.length);var e=document.execCommand("copy");return s.remove(),e},totalCount:function(t,s){return t>0?t<s?1:t%s?parseInt(t/s)+1:t/s:0}}}),o=n,a=o,r=(e("7775"),e("2877")),c=Object(r["a"])(a,i,v,!1,null,"50ead1b8",null);s["default"]=c.exports},7775:function(t,s,e){"use strict";e("2dbd")},"821c":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAACLlBMVEUAAAArqoAktm0gv4Azs4Arv4Aiu4gzu4gwr4Awv4AruIArxoAovIYktoYnun8xun8vvYQutn8uv38uv4kwt4Awv4cuuYMsvYQwuoItuYQtvoYsu4MuuYMuuoEtvIMsvIUsuoMvuoMvvYMuvIMtvIMuu4QtvYQtvoUvvIIvuoQuvIQuvYMvvYMuvIQuvIMuu4QwvoQuvoUuvIQvvoUvvIMvvYQvvYUvvIQvvYQvvIUvvoUvvoUwvYUvvIQvvIQvvIUvvYUwvYUwvIUvvYQuvYUvvIUvvoUvvYQvvYUvvIUwvYUvvIQwvYQwvYUwvoQvvYQwvYUwvYQvvIQvvYUwvYQwvYUvvIUvvYUvvIUvvYUwvYUuvIQwvIUvvYUvvIQvvYQvvIQvvYUvvYQvvYUvvYUvvYQvvYUvvYQwvYQvvYUvvYUwvYUvvYUvvIUwvYUwvYUwvYQwvYUwvIUvvIQvvYUwvYUzvoc2v4g5wIo9wYxAwo5Dw5BGxJJJxZRKxZRNxpZWyZtayp1dy59gzKFkzaNqz6dt0Kl3065306961LB61LF91bJ+1rOB17SB17WE17aE2LaH2LiR276R3L6U3cCX3sKd4MWe4Mah4cen48uq5M2u5c+36NW46NW66da76dfB69rF7NzL7uDO7+LS8OTV8ebY8ujb8+re9Ozh9e3i9e7l9u/l9/Do9/Hr+PPu+fXv+fXv+vXy+vfy+/f1+/n1/Pn4/fv7/v38/v3///9MZz08AAAAdXRSTlMABgcICgwPDxAQEhITFRoaGxwcHCAgITo7Pj9AQkNERUZGRkhQU1VaXF1faW1ub3R2eXp9goOIiZeYmJmbnJ+fn5+hoqWsrK6ur7G0tbq7vcDBw8TFxcfIysrKy8vNztDS09Tf4+3u7/Hz9PT3+fn6+/v8/f7UcqxfAAAC2klEQVRIx52X618MYRTHTzdEG1JRiIqKiNzvlAih6Coluirpos62EkkXd4ncCqmNJW2otp3z33nRtjvP7PPMzszv1cyZ8/3M7ZzP+R0ArgLWpBwtrKxpaqqpLDyyfXUAaFbY3uIGZNRwZU+YJnRDdgty1JId4xONu4ZCFcWqohGZqKrMcDGbVIc+VJckQANPogadCOSxy4pQk66GeLOrbqBGlYcq2cWaWcTyYEVF5aIO5bIVdxx16Zic3Yo6tcXDRt7SC9+MdMNnBCmWEfsjwaWz7npm491DYy79IppdOP76xsJkxbngUib62El8Wc3ytMJ5dh17Y7vU38NR7w96zuStBQCA80ysncb5b/ma3jHnWQAApjtM7AGN8eEXCrjZBAApaAzGbQCQZxS+DBDUaBRuDIJ4NApjPKQah3dBGhswfxLDP++zkTTF97J8IzFMU2yl50EFc/6dHGL4L832yiMVUMVkEKnc2Unsa1dBPQvPSfTnCY/tHCNysHC9Ep7sHCWyPvTq7PdzNDPwSgkrHnsSsW+CnEN3mfDTKZKG25V/q0rxwWgSEdsGHTTd7+neLiuRtcv7V1dAgTeM2PGFyNbt6tFhJ00949VJAaTzYMQeG9HnDkTzwDRJHyzcIkuH3XwYzQMzNDfYayMa7RRUaKqiMTwwYvuwREQTfcLyjle0pBxG7Bp3vG0T9kZ9EMAlMazeWNkAkGwUTgYAU7Mx+LYJACDLGHwOAACijMFR8yMj3xOR/rWpwB9lcL5rVkW3ukMjNP1bKDtR90Jia/TCmMxww/dGJBLL/tKdmOGez6HVeod7tcwRJeiFN8lNyWF97AHGDfnl6GFz/FgjFlymnS0LVlrAlZot4PXl3uZziUYTmLuIZ3v9D2phD/kLHHdirS+0NlFs9cN9rQkRqltGrIplL97oc79Zf5GPXojRtpTtLFGSJTtWaF/qQhL2nyqdXwdLT+/bvJSf9R8GJlKu9ASYBgAAAABJRU5ErkJggg=="}}]);